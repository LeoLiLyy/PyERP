{% extends "./html/base.html" %}

{% block content %}
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<nav class="navbar is-dark" role="navigation" aria-label="main navigation">
    <div class="navbar-menu">
        <div class="navbar-start">
            <a class="navbar-item" href="/">Home</a>
            {% if current_user.is_authenticated %}
            <a class="navbar-item" href="/admin">Admin Dashboard</a>
            <a class="navbar-item" href="/logout">Logout</a>
            {% endif %}
            {% if not current_user.is_authenticated %}
            <a class="navbar-item" href="/login">Login</a>
            {% endif %}
            <a class="navbar-item" href="/inventory">Inventory</a>
            <a class="navbar-item" href="/sales">Sales</a>
            <a class="navbar-item" href="/purchases">Purchases</a>
            <a class="navbar-item" href="/design">Design Center</a>
            <a class="navbar-item" href="/report">Report A Bug</a>
        </div>
    </div>
</nav>
<div class="column is-4 is-offset-4">
    <h3 class="title">Projects</h3>
    <div class="box" style="width: 80%;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
    background: white;
    flex-direction: column;
    hborder: 1px solid #ccc;  /* Just for demonstration */
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);">
        <table border="1" style="width: 100%;
    border-collapse: collapse; :nth-child(even) {
    background-color: #f9f9f9;">
            <thead>
                <tr style=":hover {
    background-color: #ddf;">
                    <th style="padding: 8px;
    text-align: left;
    border-bottom: 1px solid #ddd; background-color: #f4f4f4; /* Light gray background for headers */
    color: #333;">Project ID</th>
                    <th style="padding: 8px;
    text-align: left;
    border-bottom: 1px solid #ddd; background-color: #f4f4f4; /* Light gray background for headers */
    color: #333;">Project Name</th>
                    <th style="padding: 8px;
    text-align: left;
    border-bottom: 1px solid #ddd; background-color: #f4f4f4; /* Light gray background for headers */
    color: #333;">Project Description</th>
                    <th style="padding: 8px;
    text-align: left;
    border-bottom: 1px solid #ddd; background-color: #f4f4f4; /* Light gray background for headers */
    color: #333;">Deadline</th>
                    <th style="padding: 8px;
    text-align: left;
    border-bottom: 1px solid #ddd; background-color: #f4f4f4; /* Light gray background for headers */
    color: #333;">Products</th>
                    <th style="padding: 8px;
    text-align: left;
    border-bottom: 1px solid #ddd; background-color: #f4f4f4; /* Light gray background for headers */
    color: #333;">Customer</th>
                    <th style="padding: 8px;
    text-align: left;
    border-bottom: 1px solid #ddd; background-color: #f4f4f4; /* Light gray background for headers */
    color: #333;">Edit</th>
                    <th style="padding: 8px;
    text-align: left;
    border-bottom: 1px solid #ddd; background-color: #f4f4f4; /* Light gray background for headers */
    color: #333;">Open new Issue (WIP)</th>
                    <th style="padding: 8px;
    text-align: left;
    border-bottom: 1px solid #ddd; background-color: #f4f4f4; /* Light gray background for headers */
    color: #333;">Request Delete</th>
                </tr>
            </thead>
                <tbody>
                {% for user in users %}
                <tr style=":hover {
    background-color: #ddf; :nth-child(even) {
    background-color: #f9f9f9;">
                    <td style="padding: 8px;
    text-align: left;
    border-bottom: 1px solid #ddd;">{{ user.EmployeeID }}</td>
                    <td style="padding: 8px;
    text-align: left;
    border-bottom: 1px solid #ddd;">{{ user.Name }}</td>
                    <td style="padding: 8px;
    text-align: left;
    border-bottom: 1px solid #ddd;">{{ user.Dept }}</td>
                    <td style="padding: 8px;
    text-align: left;
    border-bottom: 1px solid #ddd;">{{ user.Email }}</td>
                    <td style="padding: 8px;
    text-align: left;
    border-bottom: 1px solid #ddd;">{{ 'ðŸŸ¢' if user.is_online else 'âšª' }}</td>
                    <td style="padding: 8px; text-align: left; border-bottom: 1px solid #ddd;">
                        <form method="POST" action="/user_manager">
                            <input type="hidden" name="user_id" value="{{ user.EmployeeID }}">
                            <button type="submit" name="action" value="kick" class="button is-info">Kick</button>
                        </form>
                    </td>
                    <td style="padding: 8px; text-align: left; border-bottom: 1px solid #ddd;">
                        <form method="POST" action="/user_manager">
                            <input type="hidden" name="user_id" value="{{ user.EmployeeID }}">
                            <button type="submit" name="action" value="edit" class="button is-info">Edit</button>
                        </form>
                    </td>
                    <td style="padding: 8px; text-align: left; border-bottom: 1px solid #ddd;">
                        <form method="POST" action="/user_manager">
                            <input type="hidden" name="user_id" value="{{ user.EmployeeID }}">
                            <button type="submit" name="action" value="delete" class="button is-info">Delete</button>
                        </form>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        <br>
        <form method="GET" action="/create_user">
            <button type="submit" name="action" value="add" class="button is-info" style="align-self: last baseline; ">Add New User</button>
        </form>
    </div>
</div>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
{% endblock %}
